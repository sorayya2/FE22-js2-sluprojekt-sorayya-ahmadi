{"mappings":"imBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iPCAzD,IAAAC,EAAAJ,EAAA,S,aCAAI,EAAAJ,EAAA,S,mBCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,qBAAAC,KAAUC,W,MCA5FC,EAAiB,IAAAJ,IAAoBN,EAAA,SAAAO,QAA6C,qBAAAC,KAAUC,W,MCA5FE,EAAiB,IAAAL,IAAoBN,EAAA,SAAAO,QAA6C,qBAAAC,KAAUC,WJI3F,MACC,IAAIG,EAAaC,eAAeC,QAAQ,QACpCC,EAASF,eAAeC,QAAQ,cAChCE,EAAkB,OAAXD,EAAkBH,EAAaG,EAC1C,MAAME,GAAQ,EAAAb,EAAAc,KAAIC,EAAAC,GAAI,mBAAmBJ,EAAKK,kBAC9C,EAAAjB,EAAAkB,KAAIL,GAAOM,MAAMC,IACf,GAAIA,EAASC,SAAU,CACrB,MAAMC,SAAEA,EAAQC,IAAEA,EAAGC,OAAEA,EAAMC,WAAEA,GAAeL,EAASM,MACjDC,EAAwBC,SAASC,cAAc,aACrD,OAAOJ,GACL,IAAK,IACLE,EAAIG,IAAG,IAAA5B,IAAAD,GACP,MACA,IAAK,IACL0B,EAAIG,IAAG,IAAA5B,IAAAI,GACP,MACA,IAAK,IACLqB,EAAIG,IAAG,IAAA5B,IAAAK,GACP,MAEA,QAAS,OAAO,KAGlB,MAAMwB,EAAoBH,SAASC,cAAc,eAC3CG,EAAuBJ,SAASC,cAAc,aAC1BD,SAASC,cAAc,UAE5CI,UAAYV,EACjBS,EAAQC,UAAYT,EACpBO,EAAKE,UAAYX,EACjBb,eAAeyB,WAAW,aAC5B,IAEJ,EAjCC,GCDM,WACL,MAAMC,EAAmBP,SAASQ,eAChC,kBAEFD,EAAiBE,MAAMC,QAAU,OAEjC,IAAI9B,EAAaC,eAAeC,QAAQ,QACpCC,EAASF,eAAeC,QAAQ,cAChC6B,EAAyB,OAAX5B,EAAkBH,EAAaG,EAC7CF,eAAeC,QAAQ,SAAW6B,IACpCJ,EAAiBE,MAAMC,QAAU,QAEjCH,EAAiBK,iBAAiB,SAAUC,IAE1C,GADuBC,QAAQ,iBACT,CACpB,MAAMC,GAAa,EAAA3C,EAAAc,KACjBC,EAAAC,GACA,mBAAqBP,eAAeC,QAAQ,SAE9CD,eAAemC,SACf,EAAA5C,EAAA6C,QAAOF,GACPG,OAAOC,SAASC,KAAO,cACzB,MACEb,EAAiBE,MAAMC,QAAU,UAIzC,CDSA,GKtCEV,SAASQ,eAAe,iBAAiBI,iBAAiB,SAAS,KACjE/B,eAAemC,OAAK","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-abd86e9a265c1af8.js","src/modules/profile.ts","src/modules/deleteUser.ts","node_modules/@parcel/runtime-js/lib/runtime-386d90b133841afa.js","node_modules/@parcel/runtime-js/lib/runtime-2e2c8b55567bc683.js","node_modules/@parcel/runtime-js/lib/runtime-687f449525b34f15.js","src/modules/logout.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6eg5j\\\":\\\"profile.eec40066.js\\\",\\\"lTuMP\\\":\\\"bild1.b50ad450.png\\\",\\\"fJoD7\\\":\\\"bild2.d876b3c7.png\\\",\\\"jiWxO\\\":\\\"bild3.ff522d17.png\\\",\\\"krb3m\\\":\\\"forumShows.dddbf656.js\\\"}\"));","import { ref, get, DataSnapshot } from \"firebase/database\";\nimport { db } from \"./firebaseApp\";\nimport { logOut } from \"./logout\";\nimport { deleteProfile } from \"./deleteUser\";\n(() => {\n  let usernameID = sessionStorage.getItem(\"user\");\n  let target = sessionStorage.getItem(\"targetUser\");\n  let test = target === null ? usernameID : target;\n  const dbRef = ref(db, `/users/userInfo/${test.toLowerCase()}`);\n  get(dbRef).then((snapshot: DataSnapshot) => {\n    if (snapshot.exists()) {\n      const { username, bio, gender, profilePic } = snapshot.val();\n      const img: HTMLInputElement = document.querySelector(\"#ProfileP\");\n      switch(profilePic){\n        case \"1\": \n        img.src = new URL('../img/bild1.png', import.meta.url);\n        break; \n        case \"2\": \n        img.src = new URL('../img/bild2.png', import.meta.url);\n        break; \n        case \"3\": \n        img.src = new URL('../img/bild3.png', import.meta.url);\n        break; \n\n        default: return null\n      }\n\n      const namn: HTMLElement = document.querySelector(\"#UsernameID\");\n      const genders: HTMLElement = document.querySelector(\"#genderID\");\n      const bios: HTMLElement = document.querySelector(\"#bioID\");\n\n      bios.innerText = bio;\n      genders.innerText = gender;\n      namn.innerText = username;\n      sessionStorage.removeItem(\"targetUser\");\n    }\n  });\n})();\n\ndeleteProfile();\nlogOut();\n","import { ref, remove } from \"firebase/database\";\nimport { db } from \"./firebaseApp\";\n\nexport function deleteProfile(): void {\n  const deleteProfileBtn = document.getElementById(\n    \"delete-account\"\n  ) as HTMLButtonElement;\n  deleteProfileBtn.style.display = \"none\";\n\n  let usernameID = sessionStorage.getItem(\"user\");\n  let target = sessionStorage.getItem(\"targetUser\");\n  let currentUser = target === null ? usernameID : target;\n  if (sessionStorage.getItem(\"user\") == currentUser) {\n    deleteProfileBtn.style.display = \"block\";\n\n    deleteProfileBtn.addEventListener(\"click\", (e) => {\n      let deleteAccountBtn = confirm(\"Are you sure?\");\n      if (deleteAccountBtn) {\n        const deleteUser = ref(\n          db,\n          \"/users/userInfo/\" + sessionStorage.getItem(\"user\")\n        );\n        sessionStorage.clear();\n        remove(deleteUser);\n        window.location.href = \"./index.html\";\n      } else {\n        deleteProfileBtn.style.display = \"none\";\n      }\n    });\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lTuMP\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fJoD7\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jiWxO\")).toString();","export function logOut(): void {\n  document.getElementById(\"logout-button\").addEventListener(\"click\", () => {\n    sessionStorage.clear();\n  });\n}\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$gdelx","$b1e6e3771541cacf$exports","URL","resolve","url","toString","$ce621a9d9cea4722$exports","$ae492eca28255390$exports","usernameID","sessionStorage","getItem","target","test","dbRef","ref","$7McF0","db","toLowerCase","get","then","snapshot","exists","username","bio","gender","profilePic","val","img","document","querySelector","src","namn","genders","innerText","removeItem","deleteProfileBtn","getElementById","style","display","currentUser","addEventListener","e","confirm","deleteUser","clear","remove","window","location","href"],"version":3,"file":"profile.eec40066.js.map"}